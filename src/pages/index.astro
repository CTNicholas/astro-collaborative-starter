---
import '../components/liveblocks-room'
import '../components/live-avatars'
import '../components/live-cursors'
import '../components/live-users'
import { randomName, randomColor, randomPicture } from '../components/utils/random'

const key = import.meta.env.PUBLIC_LIVEBLOCKS_PUBLIC_KEY

const user = {
  name: randomName(),
  color: randomColor(),
  picture: null//randomPicture()
}
---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Astro</title>
	</head>
	<body>

  <!-- Create dialog for changing user-name etc -->

    <liveblocks-room
      user-name={user.name}
      user-color={user.color}
      user-picture={user.picture}
      room-id="astro-testing"
      public-key={key}
      client:load
    >

      <live-users
        size="40"
        client:visible>
      </live-users>


      <live-avatars
        size="40"
        client:visible
      ></live-avatars>

      <live-cursors
        movement="smooth"
        client:load
      ></live-cursors>

    </liveblocks-room>


	</body>
</html>
